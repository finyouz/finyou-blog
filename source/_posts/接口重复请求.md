---
title: 接口重复请求
date: 2025-01-24 17:24:36
tags: [axios]
---

# 防止接口重复请求

> 在软件开发过程中，前端需要向后端服务器发送请求，获取到响应的数据后，再将数据展示给用户。但是，在某些情况下，用户可能会多次点击某个按钮，导致多次发送相同的请求，从而浪费服务器的资源。

## 1.方案一：防抖和节流

### 1.1 防抖

### 1.2 节流


## 2.方案二:axios请求拦截器和响应拦截器

### 2.1 办法一
>最简单的方法是在请求拦截器时，开启全局Loading(遮罩层)，在响应拦截器时，关闭全局Loading。

```js
import axios from "axios";
import { ElLoading } from 'element-plus'

axios.interceptors.request.use(
    function (config) {
        let { method, url, params, data } = config;
        return config;
    },
    function (error) {

        return Promise.reject(error);
    }
);

axios.interceptors.response.use(
    function (response) {
        return response;
    },
    function (error) {

        return Promise.reject(error);
    }
);

export default axios;
```

### 2.2 办法二

>如何判断是否是一个接口,可以从接口的请求方法(menthod)、请求地址（url）、请求参数(params、data)以及请求发送的页面hash,那我们是否可以通过这个信息生成一个标识key,然后key收集出来，判断集合中是否有重复的key,如果有重复的key,则表示是重复的请求。

### 2.3 办法三